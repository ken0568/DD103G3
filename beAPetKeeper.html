<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>鏟屎官--成為飼主</title>
    <!-- title的小logo -->
    <link rel="icon" href="img/petKeepersIcon.ico" type="image/x-icon/" />
    <!-- 以下的link不要刪掉 -->
    <link rel="stylesheet" href="css/reset.css" />
    <!-- 把自己負責頁面的css檔案link：css/fontStyle.css前，ex.css/shopStyle.css -->
    <link rel="stylesheet" href="css/fontStyle.css" />
    <link rel="stylesheet" href="css/header-footer.css" />
    <link rel="stylesheet" href="css/beAPetKeeperStyle.css">
    <link rel="stylesheet" href="css/col.css">
    <script src="js/jquery-3.4.1.min.js"></script>
    <script src="js/burger.js"></script>
    <script src="js/pethouse.js"></script>
    <script src="https://code.jquery.com/jquery-2.2.4.js"
        integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI=" crossorigin="anonymous"></script>
</head>

<body>
    <header>
        <div class="index-logo">
          <div class="logo">
            <a href="index.html"><img src="./img/logo.png" alt="" /></a>
          </div>
        </div>
        <div class="menu">
          <ul class="menu-ul">
            <li><a href="pethouse.html">寵物當家</a></li>
            <li class="landPage"><a href="beAPetKeeper.html">成為飼主</a></li>
            <li><a href="products.html">寵物商店</a></li>
            <li ><a href="activities.html">活動專區</a></li>
            <div class="login">

                <div class="login-status">
                  <a href="member.html">登入</a>
                  <b>|</b>
                  <a href="member.html">註冊</a>
                </div>
              </div>
            </ul>
          </div>
          <div class="burger">
            <span class="bar1" id="bar"></span>
            <span class="bar2" id="bar"></span>
            <span class="bar3" id="bar"></span>
          </div>
       
      </header>
      <div class="prompt">
        <a href="#">
          <img src="img/catprompt.png" alt="" />
          <img src="img/footerprint.png" alt="">
        </a>
      </div>
      
    <div class="pet-wrap">


        <!-- banner-start -->
        <div class="pet-container">
            <div class="row">
                <div class="col-sm-12 col-md-12 pet-banner-bgs">
                    <img class="pet-banner-paper" src="./img/beAPetKeBanner.png" alt="">
                    <div class="pet-banner">
                        <img src="./img/beAPetKeBaBlue.png" alt="">
                        <p>成為飼主</p>
                    </div>
                    <div class="pet-banner-pet">
                        <img class="SSS" src="./img/modelCaseCat.png" alt="">
                        <img src="./img/beAPetKeBaDog.png" alt="">
                    </div>
                </div>
            </div>
        </div>

        <!-- banner-end -->

        <!-- 打造專屬寵物-title-start -->
        <div class="pet-container">
            <div class="row">
                <div class="col-sm-12 col-md-12 pet-title">
                    <p>打造專屬寵物</p>
                </div>
            </div>
        </div>
        <!-- 打造專屬寵物-title-end -->

        <!---- 客製化-start ---->
        <!-- 客製化左邊舞台展示-start -->
        <div class="pet-container pet-section-one">
            <div class="row Pet-Section">
                <div class="col-sm-12 col-md-6  pet-customize pet-customize-pet pet-section-onebox ">
                    <div class="pet-light">
                        <img src="./img/lightLeft.png" class="pet-light-left" alt="">
                        <img src="./img/lightRight.png" class="pet-light-right" alt="">
                    </div>


                    <div class="pet-context-stage">
                        <div class="pet-context-pet">
                            <!-- <img src="./img/modelCaseDog.png" alt=""> -->
                            <!-- <canvas id="pet-canvas" width="300" height="300" ></canvas> -->
                            <div class="pet-model Pets-Color" id="Pet-DogKeeper">
                                <img class="pet-dress-head" src="./img/pet-stage-dogheadfirst.png" alt=""
                                    id="Pet-HeadDog-One">
                                <img class="pet-dress-body" src="./img/pet-stage-dogbody.png" alt=""
                                    id="Pet-BabyDog-One">
                                <img class="pet-dress-tail" src="./img/pet-stage-dogtailfirst.png" alt=""
                                    id="Pet-TailDog-One">
                            </div>

                            <!-- <div class="pet-model Pets-Color" id="Pet-DogKeeper">
                        <img src="./img/pet-stage-catheadfirst.png" alt="">
                        <img src="./img/pet-stage-catbody.png" alt="" class="">
                        <img src="./img/pet-stage-cattailsencon.png" alt="">
                    </div> -->

                        </div>
                        <div class="pet-context">
                            <img src="./img/bAPKStage.png" alt="">
                        </div>
                    </div>
                </div>

                <!-- 客製化左邊舞台展示-end -->

                <!-- 右側三步驟-start -->
                <div class="col-sm-12 col-md-6 pet-box pet-section-onebox">
                    <div class="" id="Pet-div1">
                        <!-- 三步驟-start -->
                        <ul class="pet-step-all">
                            <li class="pet-active"><a href="#Pet-StepOne">第一步</a></li>
                            <li class="pet-active"><a href="#Pet-StepTwo">第二步</a></li>
                            <li class="pet-active"><a href="#Pet-StepThree">第三步</a></li>
                        </ul>
                        <!-- 三步驟-end-->
                        <!-- Step1選擇動物-start -->
                        <div class="Pet-Content" id="Pet-StepOne" style="display:block">
                            <img src="./img/modelCaseDog.png" alt="" class="Pet-Step-OneDog">
                            <img src="./img/beAPetKeBacat.png" alt="" class="Pet-Step-OneCat">

                            <button class="Pet-Stepone-DogBtn Pet-Stepone-Btn" value="dog">成為狗奴</button>
                            <button class="Pet-Stepone-CatBtn Pet-Stepone-Btn" value="cat">成為貓奴</button>

                            <button class="Pet-StepOne-Test" value="測試">測試適合成為狗奴還是貓奴</button>

                            <p>選擇系統推薦的寵物，會獲得更多愛心幣噢！</p>
                        </div>
                        <!-- Step1選擇動物-end -->

                        <!-- Step2第二步替換部位-start -->
                        <div class="Pet-Content Pet-Select" id="Pet-StepTwo">
                            <div class="pet-dogheads">
                                <p class="pet-doghead-two">頭部</p>
                                <div class="pet-dogheads-pic">
                                    <img src="./img/pet-stage-dogheadfirst.png" alt="" class="Pet-Dog-HeardOne">
                                    <img src="./img/pet-stage-dogheadsencon.png" alt="" class="Pet-Dog-HeardSencon">
                                </div>
                            </div>
                            <div class="pet-dogtails">
                                <p class="pet-dogtail-two">尾巴</p>
                                <div class="pet-dogtails-pic">
                                    <img src="./img/pet-stage-dogtailfirst.png" alt="" class="Pet-Dog-TailOne">
                                    <img src="./img/pet-stage-dogtailsencon.png" alt="" class="Pet-Dog-TailSencon">
                                </div>
                            </div>
                        </div>

                        <!-- Step2第二步替換部位-end -->



                        <!-- Step3選顏色-start-->

                        <div class="Pet-Content pet-color pet-stepthree-color" id="Pet-StepThree">
                            <p class="pet-color-pick">選擇顏色</p>

                            <input type="range" class="pet-color-bar create-colorbar" min="0" max="360" step="1"
                                value="0" ; -webkit-appearance: none;background-image: linear-gradient(to right, #F00,
                                #FF0, #0F0, #0FF, #00F, #F0F, #F00);>
                            <p class="pet-color-name">寵物暱稱</p><br>
                            <form action="" method="">
                                <input type="text" class="pet-name" required>
                            </form>
                            <input type="button" value="確定完成" name="" class="Pet-StepThree-Ok">

                        </div>
                        <!-- Step3選顏色-end-->
                    </div>
                </div>
            </div>
        </div>

        <!-- 客製化-end -->


        <!-- 第二畫面QA-start -->

        <div class="pet-container pet-section-two">
            <div class="row pet-section-qa">
                <div class="col-sm-12 col-md-4 ">
                    <div class="pet-unknown">
                        <img src="./img/pet-unknown.png" alt="">
                        <img class="pet-unknown-pet" src="./img/pet-test-catfirst.png" alt="">
                    </div>
                </div>
                <div class="col-sm-12 col-md-8 pet-question">
                    <img src="./img/pet-qa-paper.png" alt="">

                    <div class="pet-qa-answer">
                        <p class="pet-question-title">你適合當狗奴還是貓奴？</p>
                        <div class="pet-question-number">
                            <img class="" src="./img/pet-circle-1.png" alt="">
                        </div>
                        <p class="pet-qa-title">Q1.請問您的居住空間？</p>
                        <div class="pet-answer-btn">
                            <button class="pet-answer" id="SSS" value="cat">小坪數套房</button>
                            <button class="pet-answer" value="dog">透天</button>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <!-- 第二畫面QA-end -->
        <!-- 第三頁-QA結束打造寵物頁面-start -->
        <div class="pet-container pet-section-three">
            <div class="row">
                <div class="col-sm-12 col-md-12 pet-dress-answer">
                    <p>您適合養</p>
                    <img class="pet-dress-paper" src="./img/pet-dress-paper.png" alt="">

                    <div class="pet-dress-pet">
                        <img class="pet-dress-head" src="./img/pet-stage-dogheadfirst.png">
                        <img class="pet-dress-body" src="./img/pet-stage-dogbody.png">
                        <img class="pet-dress-tail" src="./img/pet-stage-dogtailfirst.png">
                    </div>
                    <button class="pet-dress">去打造你的寵物</button>
                </div>
            </div>
        </div>
        <!-- 第三頁-QA結束打造寵物頁面-end-->

        <!-- 第四頁-客製動物完成-start -->
        <div class="pet-container pet-section-four">
            <div class="row">
                <div class="col-sm-12 col-md-12 pet-answer-pet">
                    <p></p>
                    <img class="pet-dress-paper" src="./img/pet-dress-paper.png" alt="">

                    <div class="pet-dress-pet">
                        <!-- <img class="pet-dress-head" src="./img/pet-stage-dogheadfirst.png"> -->
                        <img class="pet-dress-body" src="./img/pet-stage-dogbody.png">
                        <!-- <img class="pet-dress-tail" src="./img/pet-stage-dogtailfirst.png"> -->
                    </div>
                    <div class="pet-go">
                    <button class="pet-go-shop">前往商店</button>
                    <button class="pet-go-keeper">開始飼養</button>
                </div>
                </div>
            </div>
        </div>
        <!-- 第四頁-客製動物完成-end-->
    </div>
    <!-- footer-start-->
    <footer>
        <p>Copyright © 2019 PetKeepers</p>
    </footer> 
    <!-- footer-end-->

    <!--js-start-->
    <!--頁面切換 Start-->
    <script src="https://code.jquery.com/jquery-2.2.4.js"
        integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI=" crossorigin="anonymous">
    </script>

    <script>
        $(document).ready(function () {
            var list = $('#Pet-div1 ul li');
            list.click(function () {
                $($(this).find('a').attr('href')).show().siblings('.Pet-Content')
                    .hide(); //頁面內容
                $(this).addClass('pet-active-step').siblings('.pet-active-step ').removeClass('pet-active-step'); //步驟顏色
            });
            $('li:nth-child(1)>a').trigger('click');
        });
    </script>
    <!--頁面切換 End-->

    <!-- 左側動物顯示 Start-->
    <script>
        var pet = 'dog';
        var dog = 0;
        var cat = 0;
        var number = 0; //題號
        var arr = [
            ['./img/pet-circle-1.png', 'Q1.請問您的居住空間？', '小坪數套房', '透天'],
            ['./img/pet-circle-2.png', 'Q2.請問您居住的空間大小？', '只夠自己住', '地方較大'],
            ['./img/pet-circle-3.png', 'Q3.請問您比較喜歡在家裡還是戶外？', '在家', '戶外'],
            ['./img/pet-circle-4.png', 'Q4.請問您願意每個月為寵物花費多少錢？', '3000元以內', '3000元以上'],
            ['./img/pet-circle-5.png', 'Q5.請問您生活環境的清潔狀態?？', '潔癖', '不拘小節'],
        ];
        var petArr = new Array(4); //動物部位三個元素+顏色
        var petUnknown = ['./img/pet-test-catfirst.png', './img/pet-test-catsencon.png', './img/pet-test-dogfirst.png',
            './img/pet-test-dogsencon.png'
        ];




        //按鈕事件        
        $(document).ready(function () {
            // alert($('.pet-answer:first-child').text());
            set('dog');
            $('.pet-answer').click(function () {
                //step1.偵測答案根據狗或貓 step2.加分
                if ($(this).val() == 'cat') {
                    cat++;
                } else {
                    dog++;
                }
                number++; //step3.換題
                if (number < 5) {

                    $('.pet-question-number img').prop('src', arr[number][0]);
                    $('.pet-qa-title').text(arr[number][1]);
                    $('#SSS').text(arr[number][2]);
                    $('.pet-answer:last-child').text(arr[number][3]);
                } else {
                    if (cat > dog) {

                        set('cat');
                        show();
                    } else {

                        set('dog');
                        show();
                    }
                    $('.pet-section-two').hide();
                    $('.pet-section-three').show();
                }
            });

            //不答題左側動物顯示 start
            $('#Pet-DogKeeper').show();
            $('.Pet-Stepone-DogBtn').click(function () {

                set('dog');
                show();
            });

            $('.Pet-Stepone-CatBtn').click(function () {
                set('cat');
                show();
            });
            $('.Pet-StepOne-Test').click(function () {

                setInterval(function () {
                    $('.pet-unknown-pet').prop('src', petUnknown[Math.floor(Math.random() *
                        3)]); //進來都隨機出現

                }, 1000);
                $('.pet-section-one').hide();
                $('.pet-section-three').hide();
                $('.pet-section-two').show();
            });

            //左側動物顯示 End



            ///////第二步替換部位 Star


            //替換頭
            $('.Pet-Dog-HeardOne').click(function () {
                if (pet == 'dog') {
                    set(null, './img/pet-stage-dogheadfirst.png');
                    show();

                    return;
                }
                set(null, './img/pet-stage-catheadfirst.png');
                show();


            });

            $('.Pet-Dog-HeardSencon').click(function () {
                if (pet == 'dog') {
                    set(null, './img/pet-stage-dogheadsencon.png');
                    show();

                    return;
                }
                set(null, './img/pet-stage-catheadsencon.png');
                show();

            });

            //替換尾巴
            $('.Pet-Dog-TailOne').click(function () {
                if (pet == 'dog') {
                    set(null, null, './img/pet-stage-dogtailfirst.png');
                    show();

                    return;
                }
                $('#Pet-TailDog-One').prop('src', './img/pet-stage-cattailsencon.png');
                show();

            });
            $('.Pet-Dog-TailSencon').click(function () {
                if (pet == 'dog') {
                    set(null, null, './img/pet-stage-dogtailsencon.png');
                    show();

                    return;
                }
                set(null, null, './img/pet-stage-cattailfirst.png');
                show();

            });


            /////第三部確定送出
            $('.Pet-StepThree-Ok').click(function () {
                if($('.pet-name').val() === ""){
                    alert("請輸入暱稱");
                    return;
                }
                $.ajax({
                    type: 'post',
                    url: './php/beApetKeeper.php',
                    dataType: 'json',
                    data: {
                        'petName': $('.pet-name').val(),
                        'petType': pet,
                        'petPic': petArr[1],
                        'petColor': petArr[3],
                    },
                    beforeSend:function(){
                        //會員檢查
                        

                        //不是會員，轉跳燈入頁
                        // location.replace("./index.html");
                    },
                    success: function (data) {
                        
                        $('.pet-answer-pet p').text(data.petName);
                        $('.pet-answer-pet .pet-dress-body img').prop('src', data.petPic);
                        $('.pet-section-one').hide();
                        $('.pet-section-four').show();
                    },
                    error: function(req, status, error) {
                        alert("系統錯誤");
                        location.reload()

                    }
                }); 
                
            });
        });
        ///////輸入部位值  QA結束打造寵物頁面與第二步
        function set(petType, head = null, tail = null, color = null) { //petType:狗貓種類
            if (petType !== null) {
                pet = petType;

                if (pet == 'dog') {

                    // $('.pet-dress-head').prop('src', './img/pet-stage-dogtailfirst.png');
                    // $('.pet-dress-body').prop('src', './img/pet-stage-dogbody.png');
                    // $('.pet-dress-tail').prop('src', './img/pet-stage-dogheadfirst.png');
                    petArr[0] = './img/pet-stage-dogheadfirst.png';
                    petArr[1] = './img/pet-stage-dogbody.png';
                    petArr[2] = './img/pet-stage-dogtailfirst.png';
                    petArr[3] = -1;
                    $('.Pets-Color').css('filter', 'none');
                    $('.Pet-Dog-HeardOne').prop('src', './img/pet-step2-dogheadsecon.png');
                    $('.Pet-Dog-HeardSencon').prop('src', './img/pet-step2-dogheadfirst.png');
                    $('.Pet-Dog-TailOne').prop('src', './img/pet-step2-dogtailfirst.png');
                    $('.Pet-Dog-TailSencon').prop('src', './img/pet-step2-dogtailsecon.png');
                    return;
                }
                // $('.pet-dress-head').prop('src', './img/pet-stage-dogtailfirst.png');
                // $('.pet-dress-body').prop('src', './img/pet-stage-dogbody.png');
                // $('.pet-dress-tail').prop('src', './img/pet-stage-dogheadfirst.png');
                petArr[0] = './img/pet-stage-catheadfirst.png';
                petArr[1] = './img/pet-stage-catbody.png';
                petArr[2] = './img/pet-stage-cattailsencon.png';
                petArr[3] = -1;
                $('.Pets-Color').css('filter', 'none');
                $('.Pet-Dog-HeardOne').prop('src', './img/pet-step2-catheadfirst.png');
                $('.Pet-Dog-HeardSencon').prop('src', './img/pet-step2-catheadsencon.png');
                $('.Pet-Dog-TailOne').prop('src', './img/pet-step2-cattailfirst.png');
                $('.Pet-Dog-TailSencon').prop('src', './img/pet-step2-cattailsencon.png');
                return;
            }

            if (head !== null) {
                petArr[0] = head;
            }

            if (tail !== null) {
                petArr[2] = tail;
            }
            if (color !== null) {
                petArr[3] = color;
            }

        }

        ///////做完題目顯示寵物
        function show() {
            $('.pet-dress-head').prop('src', petArr[0]);
            $('.pet-dress-body').prop('src', petArr[1]);
            $('.pet-dress-tail').prop('src', petArr[2]);

        }
    </script>

    <!--  第三頁-QA結束打造寵物頁面-Start-->
    <script>
        $(document).ready(function () {
            //    alert($('li:nth-child(2)>a').text());
            $('.pet-dress').click(function () {
                $('.pet-section-three').hide();
                $('.pet-section-one').show();
                $('li:nth-child(2)>a').trigger('click');

            });
        });
    </script>
    <!-- 第三頁-QA結束打造寵物頁面-End-->


    <!-- 第三步Color Bar Start-->
    <script>
        $(document).ready(function () {
            $('.create-colorbar').change(function () {
                console.log(petArr);
                $('.Pets-Color').css('filter', 'hue-rotate(' + $(this).val() + 'deg)');
                set(null, null, null, $(this).val());
            });
        });
    </script>
    <!-- 第三步Color Bar End-->

</body>

</html>